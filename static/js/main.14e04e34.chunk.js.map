{"version":3,"sources":["utils/api.js","components/Movie.jsx","components/MovieTabs.jsx","components/MoviePages.jsx","components/MovieWillWatch.jsx","components/App.js","index.js"],"names":["API_URL","API_KEY_3","Movie","props","state","btnAdd","this","data","addWillWatchMovie","deleteWillWatchMovie","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","getClassLink","MoviePages","page","pages","updatePage","pageNumberOne","pageNumberTwo","pageNumberThree","classPrevNext","classNames","classPageOne","classPageTwo","classPageThree","aria-label","undefined","MovieWillWatch","movies","length","map","movie","key","id","App","moviesWillWatch","filter","axios","get","then","res","results","total_pages","prevProps","prevState","deleteMovie","ReactDOM","render","document","getElementById"],"mappings":"+QAAaA,EAAU,+BAEVC,EAAY,mCCoDVC,E,YAnDb,WAAYC,GAAQ,IAAD,8BACjB,+CACKC,MAAQ,CACXC,QAAQ,GAHO,E,sEAOT,IAAD,SACmDC,KAAKH,MAAvDI,EADD,EACCA,KAAMC,EADP,EACOA,kBAAmBC,EAD1B,EAC0BA,qBACjC,OACE,yBAAKC,UAAU,QACb,yBACEA,UAAU,eACVC,IAA4B,OAAvBJ,EAAKK,cAAL,yCAAgEL,EAAKK,eACxEL,EAAKM,aAAgB,uEACvBC,IAAI,WAEN,yBAAKJ,UAAU,aACb,wBAAIA,UAAU,cAAcH,EAAKQ,OACjC,yBAAKL,UAAU,qDACb,uBAAGA,UAAU,QAAb,WAA6BH,EAAKS,cACjCV,KAAKF,MAAMC,OACV,4BACEY,KAAK,SACLP,UAAU,kBACVQ,QAAS,WACP,EAAKC,SAAS,CAACd,QAAQ,IACvBI,EAAqBF,KALzB,UAWA,4BACEU,KAAK,SACLP,UAAU,oBACVQ,QAAS,WACP,EAAKC,SAAS,CAACd,QAAQ,IACvBG,EAAkBD,KALtB,oB,GAlCMa,IAAMC,WC2CXC,EA3CG,SAACnB,GAAW,IACpBoB,EAA0BpB,EAA1BoB,QAASC,EAAiBrB,EAAjBqB,aAEXC,EAAc,SAAAC,GAClB,OAAO,WACLF,EAAaE,KAIXC,EAAe,SAAAD,GACnB,MAAM,mBAAN,OAA0BH,IAAYG,EAAQ,SAAW,KAG3D,OACE,wBAAIhB,UAAU,sBACZ,wBAAIA,UAAU,YACZ,yBACEA,UAAWiB,EAAa,mBACxBT,QAASO,EAAY,oBAFvB,eAOF,wBAAIf,UAAU,YACZ,yBACEA,UAAWiB,EAAa,gBACxBT,QAASO,EAAY,iBAFvB,YAOF,wBAAIf,UAAU,YACZ,yBACEA,UAAWiB,EAAa,mBACxBT,QAASO,EAAY,oBAFvB,iB,gBCuCOG,EAtEI,SAACzB,GAAW,IACrB0B,EAA4B1B,EAA5B0B,KAAMC,EAAsB3B,EAAtB2B,MAAOC,EAAe5B,EAAf4B,WACfN,EAAc,SAAAC,GAClB,OAAO,WACLK,EAAWL,KAIXM,EAAyB,IAATH,EAAaA,EAAQA,IAASC,EAASA,EAAQ,EAAID,EAAO,EAC1EI,EAAyB,IAATJ,EAAaA,EAAO,EAAKA,IAASC,EAASA,EAAQ,EAAID,EACvEK,EAA2B,IAATL,EAAaA,EAAO,EAAKA,IAASC,EAASA,EAAQD,EAAO,EAE1EM,EAAgBC,IAAW,CAC/B,oBAAoB,EACpB,SAA8B,IAAlBJ,GAAuBE,IAAoBJ,IAEnDO,EAAeD,IAAW,CAC9B,oBAAoB,EACpB,OAAmB,IAATP,IAENS,EAAeF,IAAW,CAC9B,oBAAoB,EACpB,OAAUH,IAAkBJ,IAExBU,EAAiBH,IAAW,CAChC,oBAAoB,EACpB,OAAUP,IAASC,IAGrB,OACE,yBAAKU,aAAW,2BACd,wBAAI9B,UAAU,cACZ,wBACEA,UAAWyB,EACXjB,QAAmB,IAATW,EAAcJ,EAAYI,EAAO,QAAKY,GAEhD,0BAAM/B,UAAU,aAAhB,aAEF,wBACEA,UAAW2B,EACXnB,QAASO,EAAYO,IAErB,0BAAMtB,UAAU,aAAasB,IAE/B,wBACEtB,UAAW4B,EACXpB,QAASO,EAAYQ,IAErB,0BAAMvB,UAAU,aAAauB,IAE/B,wBACEvB,UAAW6B,EACXrB,QAASO,EAAYS,IAErB,0BAAMxB,UAAU,aAAawB,IAE/B,wBACExB,UAAWyB,EACXjB,QAAUW,IAASC,EAASL,EAAYI,EAAO,QAAKY,GAEpD,0BAAM/B,UAAU,aAAhB,SAEF,wBAAIA,UAAU,sBACZ,0BAAMA,UAAU,aAAhB,SAAmCoB,OC1C9BY,EAtBQ,SAACvC,GAAW,IACzBwC,EAAWxC,EAAXwC,OAER,OACE,6BACE,2CAAiBA,EAAOC,QACxB,wBAAIlC,UAAU,cACXiC,EAAOE,KAAI,SAAAC,GACV,OACE,wBAAIC,IAAKD,EAAME,GAAItC,UAAU,mBAC3B,yBAAKA,UAAU,kCACb,6BAAMoC,EAAM/B,OACZ,6BAAM+B,EAAM9B,sBCyGbiC,E,YA7Gb,WAAY9C,GAAQ,IAAD,8BACjB,+CAoBFK,kBAAoB,SAAAD,GAClB,EAAKY,SAAS,CACZ+B,gBAAgB,GAAD,mBAAM,EAAK9C,MAAM8C,iBAAjB,CAAkC3C,OAvBlC,EA2BnBE,qBAAuB,SAAAF,GACrB,EAAKY,SAAS,CACZ+B,gBAAiB,EAAK9C,MAAM8C,gBAAgBC,QAAO,SAAAL,GACjD,OAAOA,EAAME,KAAOzC,EAAKyC,SA9BZ,EAmCnBxB,aAAe,SAAAE,GACb,EAAKP,SAAS,CACZI,QAASG,KArCM,EAyCnBK,WAAa,SAAAL,GACX,EAAKP,SAAS,CACZU,KAAMH,KAzCR,EAAKtB,MAAQ,CACXuC,OAAQ,GACRO,gBAAiB,GACjB3B,QAAS,kBACTM,KAAM,EACNC,MAAO,GAPQ,E,iFAWE,IAAD,OAClBsB,IAAMC,IAAN,UAAarD,EAAb,mCAA+CC,EAA/C,oBAAoEK,KAAKF,MAAMmB,QAA/E,iBAA+FjB,KAAKF,MAAMyB,OACvGyB,MAAK,SAAAC,GACJ,EAAKpC,SAAS,CACZwB,OAAQY,EAAIhD,KAAKiD,QACjB1B,MAAOyB,EAAIhD,KAAKkD,mB,yCA+BLC,EAAWC,GAAY,IAAD,OACnCA,EAAUpC,UAAYjB,KAAKF,MAAMmB,SAAWoC,EAAU9B,OAASvB,KAAKF,MAAMyB,MAC5EuB,IAAMC,IAAN,UAAarD,EAAb,mCAA+CC,EAA/C,oBAAoEK,KAAKF,MAAMmB,QAA/E,iBAA+FjB,KAAKF,MAAMyB,OACzGyB,MAAK,SAAAC,GACJ,EAAKpC,SAAS,CACZwB,OAAQY,EAAIhD,KAAKiD,QACjB1B,MAAOyB,EAAIhD,KAAKkD,mB,+BAMd,IAAD,OACP,OAAInD,KAAKF,MAAMuC,OAAOC,OAElB,yBAAKlC,UAAU,aACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,SACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,UACb,kBAAC,EAAD,CACEa,QAASjB,KAAKF,MAAMmB,QACpBC,aAAclB,KAAKkB,iBAIzB,yBAAKd,UAAU,YACb,yBAAKA,UAAU,UACb,kBAAC,EAAD,CACEmB,KAAMvB,KAAKF,MAAMyB,KACjBC,MAAOxB,KAAKF,MAAM0B,MAClBC,WAAYzB,KAAKyB,eAIvB,yBAAKrB,UAAU,OACZJ,KAAKF,MAAMuC,OAAOE,KAAI,SAAAC,GACrB,OACE,yBAAKpC,UAAU,aAAaqC,IAAKD,EAAME,IACrC,kBAAC,EAAD,CACEzC,KAAMuC,EACNc,YAAa,EAAKA,YAClBpD,kBAAmB,EAAKA,kBACxBC,qBAAsB,EAAKA,6BAOvC,yBAAKC,UAAU,SACb,kBAAC,EAAD,CAAgBiC,OAAQrC,KAAKF,MAAM8C,qBAOtC,S,GA1GO9B,IAAMC,W,MCHxBwC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.14e04e34.chunk.js","sourcesContent":["export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"b27441f35e115a84010d0a87be41eeaf\";\r\n// export const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from 'react';\r\n\r\nclass Movie extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      btnAdd: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, addWillWatchMovie, deleteWillWatchMovie } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={data.backdrop_path !== null ? `https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n            data.poster_path}` : 'http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png'}\r\n          alt=\"poster\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.btnAdd ? (\r\n              <button \r\n                type=\"button\" \r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({btnAdd: false});\r\n                  deleteWillWatchMovie(data)\r\n                }}\r\n              >\r\n                Remove\r\n              </button>\r\n            ) : (\r\n              <button \r\n                type=\"button\" \r\n                className=\"btn btn-secondary\"\r\n                onClick={() => {\r\n                  this.setState({btnAdd: true});\r\n                  addWillWatchMovie(data)\r\n                }}\r\n              >\r\n                Add Watch\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Movie;","import React from 'react';\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sort_by, updateSortBy } = props;\r\n\r\n  const handleClick = value => {\r\n    return () => {\r\n      updateSortBy(value);\r\n    }\r\n  }\r\n\r\n  const getClassLink = value => {\r\n    return `nav-link cursor ${sort_by === value ? 'active' : ''}`;\r\n  }\r\n\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassLink('popularity.desc')}\r\n          onClick={handleClick('popularity.desc')}\r\n        >\r\n          Popularity\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassLink('revenue.desc')}\r\n          onClick={handleClick('revenue.desc')}\r\n        >\r\n          Revenue\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassLink('vote_count.desc')}\r\n          onClick={handleClick('vote_count.desc')}\r\n        >\r\n          Vote_count\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default MovieTabs;","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nconst MoviePages = (props) => {\r\n  const { page, pages, updatePage } = props;\r\n  const handleClick = value => {\r\n    return () => {\r\n      updatePage(value);\r\n    }\r\n  }\r\n  \r\n  let pageNumberOne = page === 1 ? page : (page === pages) ? pages - 2 : page - 1;\r\n  let pageNumberTwo = page === 1 ? page + 1 : (page === pages) ? pages - 1 : page;\r\n  let pageNumberThree = page === 1 ? page + 2 : (page === pages) ? pages : page + 1;\r\n\r\n  const classPrevNext = classNames({\r\n    'page-item cursor': true,\r\n    'disabled': pageNumberOne === 1 || pageNumberThree === pages\r\n  })\r\n  const classPageOne = classNames({\r\n    'page-item cursor': true,\r\n    'active': page === 1\r\n  })\r\n  const classPageTwo = classNames({\r\n    'page-item cursor': true,\r\n    'active': pageNumberTwo === page\r\n  })\r\n  const classPageThree = classNames({\r\n    'page-item cursor': true,\r\n    'active': page === pages\r\n  })\r\n\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination\">\r\n        <li \r\n          className={classPrevNext}\r\n          onClick={(page !== 1) ? handleClick(page - 1) : undefined}\r\n        >\r\n          <span className=\"page-link\">Previous</span>\r\n        </li> \r\n        <li \r\n          className={classPageOne}\r\n          onClick={handleClick(pageNumberOne)}\r\n        >\r\n          <span className=\"page-link\">{pageNumberOne}</span>\r\n        </li>\r\n        <li \r\n          className={classPageTwo}\r\n          onClick={handleClick(pageNumberTwo)}\r\n        >\r\n          <span className=\"page-link\">{pageNumberTwo}</span>\r\n        </li>\r\n        <li \r\n          className={classPageThree}\r\n          onClick={handleClick(pageNumberThree)}\r\n        >\r\n          <span className=\"page-link\">{pageNumberThree}</span>\r\n        </li>\r\n        <li \r\n          className={classPrevNext}\r\n          onClick={(page !== pages) ? handleClick(page + 1) : undefined}\r\n        >\r\n          <span className=\"page-link\">Next</span>\r\n        </li>\r\n        <li className=\"page-item disabled\">\r\n          <span className=\"page-link\">total {pages}</span>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default MoviePages;","import React from 'react';\r\n\r\nconst MovieWillWatch = (props) => {\r\n  const { movies } = props;\r\n\r\n  return (\r\n    <div>\r\n      <h3>Will Watch: {movies.length}</h3>\r\n      <ul className=\"list-group\">\r\n        {movies.map(movie => {\r\n          return (\r\n            <li key={movie.id} className=\"list-group-item\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div>{movie.title}</div>\r\n                <div>{movie.vote_average}</div>\r\n              </div>\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieWillWatch;","import React from 'react';\nimport axios from 'axios';\nimport { API_URL, API_KEY_3 } from '../utils/api';\n\nimport Movie from './Movie';\nimport MovieTabs from './MovieTabs';\nimport MoviePages from './MoviePages';\nimport MovieWillWatch from './MovieWillWatch';\n\nclass App extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: 'popularity.desc',\n      page: 1,\n      pages: 0\n    }\n  }\n\n  componentDidMount() {\n    axios.get(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`)\n      .then(res => {\n        this.setState({\n          movies: res.data.results,\n          pages: res.data.total_pages\n        })\n      })\n  }\n\n  addWillWatchMovie = data => {\n    this.setState({\n      moviesWillWatch: [...this.state.moviesWillWatch, data]\n    })\n  }\n\n  deleteWillWatchMovie = data => {\n    this.setState({\n      moviesWillWatch: this.state.moviesWillWatch.filter(movie => {\n        return movie.id !== data.id\n      })\n    })\n  }\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value\n    })\n  }\n\n  updatePage = value => {\n    this.setState({\n      page: value\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sort_by !== this.state.sort_by || prevState.page !== this.state.page) {\n      axios.get(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`)\n      .then(res => {\n        this.setState({\n          movies: res.data.results,\n          pages: res.data.total_pages\n        })\n      })\n    }\n  }\n\n  render() {\n    if (this.state.movies.length) {\n      return (\n        <div className=\"container\">\n          <div className=\"row mt-4\">\n            <div className=\"col-9\">\n              <div className=\"row mb-4\">\n                <div className=\"col-12\">\n                  <MovieTabs \n                    sort_by={this.state.sort_by}\n                    updateSortBy={this.updateSortBy}\n                  />\n                </div>\n              </div>\n              <div className=\"row mb-4\">\n                <div className=\"col-12\">\n                  <MoviePages\n                    page={this.state.page}\n                    pages={this.state.pages}\n                    updatePage={this.updatePage}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                {this.state.movies.map(movie => {\n                  return (\n                    <div className=\"col-4 mb-4\" key={movie.id}>\n                      <Movie  \n                        data={movie} \n                        deleteMovie={this.deleteMovie}\n                        addWillWatchMovie={this.addWillWatchMovie}\n                        deleteWillWatchMovie={this.deleteWillWatchMovie}\n                      ></Movie>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n            <div className=\"col-3\">\n              <MovieWillWatch movies={this.state.moviesWillWatch} />\n            </div>\n          </div>\n        </div> \n      );\n\n    }\n    return null;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}